<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Custom Types</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="ch00-00-introduction.html">Introduction</a></li><li class="chapter-item expanded "><a href="ch01-00-history-of-move.html"><strong aria-hidden="true">1.</strong> History of Move</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch01-01-the-language.html"><strong aria-hidden="true">1.1.</strong> The Language for Digital Assets</a></li><li class="chapter-item expanded "><a href="ch01-02-dispersion-of-move.html"><strong aria-hidden="true">1.2.</strong> The Dispersion of Move</a></li><li class="chapter-item expanded "><a href="ch01-03-enter-movement.html"><strong aria-hidden="true">1.3.</strong> Enter the Movement</a></li></ol></li><li class="chapter-item expanded "><a href="ch02-00-getting-started-with-move.html"><strong aria-hidden="true">2.</strong> Getting Started with Move</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch02-01-advantages-of-move.html"><strong aria-hidden="true">2.1.</strong> Advantages of Move</a></li><li class="chapter-item expanded "><a href="ch02-02-install-movement-cli.html"><strong aria-hidden="true">2.2.</strong> Install Movement CLI</a></li><li class="chapter-item expanded "><a href="ch02-03-hello-move.html"><strong aria-hidden="true">2.3.</strong> Hello, Move!</a></li></ol></li><li class="chapter-item expanded "><a href="ch03-00-domain-modeling.html"><strong aria-hidden="true">3.</strong> Planning Your Capstone Project</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch03-01-domain-modeling-intro.html"><strong aria-hidden="true">3.1.</strong> Domain Modeling</a></li><li class="chapter-item expanded "><a href="ch03-02-user-journey.html"><strong aria-hidden="true">3.2.</strong> User Journey</a></li><li class="chapter-item expanded "><a href="ch03-03-architectural-diagram.html"><strong aria-hidden="true">3.3.</strong> Architectural Diagram</a></li></ol></li><li class="chapter-item expanded "><a href="ch04-00-basic-move-syntax.html"><strong aria-hidden="true">4.</strong> Basic Move Syntax</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch04-01-primitive-types.html"><strong aria-hidden="true">4.1.</strong> Primitive Types</a></li><li class="chapter-item expanded "><a href="ch04-02-comments.html"><strong aria-hidden="true">4.2.</strong> Comments</a></li><li class="chapter-item expanded "><a href="ch04-03-expressions-and-scope.html"><strong aria-hidden="true">4.3.</strong> Expressions and Scope</a></li><li class="chapter-item expanded "><a href="ch04-04-control-flow.html"><strong aria-hidden="true">4.4.</strong> Control Flow</a></li><li class="chapter-item expanded "><a href="ch04-05-modules-and-imports.html"><strong aria-hidden="true">4.5.</strong> Modules and Imports</a></li><li class="chapter-item expanded "><a href="ch04-06-testing.html"><strong aria-hidden="true">4.6.</strong> Testing</a></li></ol></li><li class="chapter-item expanded "><a href="ch05-00-custom-types-and-generics.html"><strong aria-hidden="true">5.</strong> Custom types and generics</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch05-01-custom-types.html" class="active"><strong aria-hidden="true">5.1.</strong> Custom Types</a></li><li class="chapter-item expanded "><a href="ch05-02-getter-functions.html"><strong aria-hidden="true">5.2.</strong> Getter and Setter Functions</a></li><li class="chapter-item expanded "><a href="ch05-03-generics-intro.html"><strong aria-hidden="true">5.3.</strong> Generics Introduction</a></li><li class="chapter-item expanded "><a href="ch05-04-generics-with-multiple-types.html"><strong aria-hidden="true">5.4.</strong> Generics with Multiple Type Parameters</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/movemntdev/movement-hack" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/movemntdev/movement-hack/edit/main/book/src/ch05-01-custom-types.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="custom-types-structs"><a class="header" href="#custom-types-structs">Custom types (structs)</a></h1>
<p>In this lesson, you'll create structs to define custom types. And you'll apply abilities to structs to make them work in real-world applications.</p>
<p>Structs in Move are foundational for defining custom types, allowing developers to encapsulate and manage complex data within blockchain applications. This lesson delves into creating structs with various real-world examples, illustrating their versatility and power in data modeling.</p>
<h2 id="struct-definition"><a class="header" href="#struct-definition">Struct Definition</a></h2>
<p>A struct is defined using the struct keyword, followed by its name and a list of fields enclosed in curly braces. Each field must have a specified type.</p>
<p><strong>Example: A User Profile</strong></p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>module UserProfile {
    struct Profile {
        username: vector&lt;u8&gt;,
        email: vector&lt;u8&gt;,
        age: u64,
    }
}
<span class="boring">}</span></code></pre></pre>
<p>This <code>Profile</code> struct represents a user profile in an application, with fields for the username, email, and age.</p>
<h2 id="nested-structs"><a class="header" href="#nested-structs">Nested Structs</a></h2>
<p>Structs can contain other structs, enabling the modeling of complex hierarchical data.</p>
<p><strong>Example: Product Catalog</strong></p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>module ProductCatalog {
    struct Price {
        amount: u64,
        currency: vector&lt;u8&gt;,
    }
​
    struct Product {
        id: u64,
        name: vector&lt;u8&gt;,
        price: Price,
    }
​
    struct Catalog {
        products: vector&lt;Product&gt;,
    }
}
<span class="boring">}</span></code></pre></pre>
<p>Here, ProductCatalog defines a system for managing products, each with a <code>Price</code>. The Catalog struct holds a collection of Product instances.</p>
<h2 id="struct-abilities"><a class="header" href="#struct-abilities">Struct Abilities</a></h2>
<p>Structs in Move can be annotated with abilities that define how they can be used, such as copy, drop, store, or key.</p>
<p><strong>Example: A Tradable Asset</strong></p>
<p>module AssetManager {
struct Asset has store {
id: u64,
owner: address,
value: u64,
}
}
The Asset struct is marked with the store ability, indicating it can be stored persistently in global storage, suitable for representing tradable assets.
Creating and Initializing Structs
Struct instances are typically created and initialized within functions. Move allows for direct field initialization or using variable names that match struct fields.</p>
<p><strong>Example: Creating a New Asset</strong></p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>module AssetManager {
    // Assuming Asset struct is defined above...
​
    public fun create_asset(owner: address, asset_id: u64, asset_value: u64): Asset {
        Asset { owner: owner, id: asset_id, value: asset_value }
        // Or simply: Asset { owner, id: asset_id, value: asset_value }
    }
}
<span class="boring">}</span></code></pre></pre>
<p>This function demonstrates creating a new Asset, highlighting the flexibility in struct initialization.</p>
<h2 id="accessing-struct-fields"><a class="header" href="#accessing-struct-fields">Accessing Struct Fields</a></h2>
<p>Access to struct fields is determined by their visibility. Within the module, fields can be accessed directly. Outside, accessor methods are needed.</p>
<p><strong>Example: Accessing and Modifying Asset Value</strong></p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>module AssetManager {
    // Assuming Asset struct and create_asset function are defined...

    public fun get_asset_value(asset: &amp;Asset): u64 {
        asset.value
    }

    public fun update_asset_value(asset: &amp;mut Asset, new_value: u64) {
        asset.value = new_value;
    }
}
<span class="boring">}</span></code></pre></pre>
<p>These functions provide read and write access to an Asset's value, showcasing field access control.</p>
<h2 id="structs-with-vectors"><a class="header" href="#structs-with-vectors">Structs with Vectors</a></h2>
<p>Vectors within structs enable dynamic collections of elements, useful for managing lists of items or records.</p>
<p><strong>Example: A Voting System</strong></p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>module VotingSystem {
    struct Vote {
        candidate_id: u64,
        voter_id: address,
    }

    struct Ballot {
        votes: vector&lt;Vote&gt;,
    }

    public fun cast_vote(ballot: &amp;mut Ballot, vote: Vote) {
        Vector::push_back(&amp;mut ballot.votes, vote);
    }
}
<span class="boring">}</span></code></pre></pre>
<p>In <code>VotingSystem</code>, <code>Ballot</code> holds a collection of <code>Vote</code> structs, with functionality to cast new votes.</p>
<h2 id="conclusion"><a class="header" href="#conclusion">Conclusion</a></h2>
<p>Structs in Move are a powerful tool for defining custom types, enabling the modeling of complex data structures essential for blockchain applications. From simple user profiles to intricate product catalogs, structs offer the flexibility to create nuanced and sophisticated data models.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="ch05-00-custom-types-and-generics.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="ch05-02-getter-functions.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="ch05-00-custom-types-and-generics.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="ch05-02-getter-functions.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
